
<SubjectScreen>
    GridLayout:
        cols: 1
        padding: [0, 20, 0, 0]
        row_default_height: 40

        BoxLayout:
            orientation: 'horizontal'

            MDIconButton:
                icon:'arrow-left'
                theme_text_color: 'Custom'
                text_color: root.color
                on_press: root.back()

            IconLeftWidget:
                icon:'book'
                theme_text_color: 'Custom'
                text_color: root.color
                size: 50,50
                padding_right: 20

            BoxLayout:
                orientation: 'vertical'
                spacing: 10
                
                Label:
                    text_size: self.width, None
                    text: '[b]'+root.title+'[/b]'
                    font_size: 28
                    color: root.color
                    markup: True

                Label:
                    text_size: self.width, None
                    text: 'Total Units: '+root.unit_nos
                    font_size: 14
                    color: [0.5, 0.5, 0.5, 1]
        
        ScrollView:
		    id: scroll_view
		    height: root.height
		    size_hint_y: None
		
		    MDList:
			    id: list_view
        
        FloatLayout:
            id: fl

            MDRoundFlatIconButton:
                icon: 'upload'
                text: 'Upload Video'
                font_size: 16
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                line_color: root.color
                icon_color: (1, 1, 1, 1)
                md_bg_color: root.btn_color
                pos: self.parent.width-self.width-20, self.height+25
                on_release: root.upload('video')
            
            MDRoundFlatIconButton:
                icon: 'auto-upload'
                text: 'Upload Audio'
                font_size: 16
                theme_text_color: "Custom"
                text_color: (1, 1, 1, 1)
                line_color: root.color
                icon_color: (1, 1, 1, 1)
                md_bg_color: root.btn_color
                pos: self.parent.width-self.width-20, 15
                on_release: root.upload('audio')

<OptionsPopup>:
    BoxLayout:
        pos_hint: {'x': 0, 'y': 0}
        size_hint: 1, 1
        orientation: 'vertical'

        OneLineListItem:
            text: 'SHARE'
            on_release: root.share()
        
        OneLineListItem:
            text: 'DELETE'
            bg_color: 1, 0, 0, 1
            on_release: root.delete()

<ShareInfoPopup>:
    FloatLayout:

		RallyTextField:
			id: fid
			focus: True
			hint_text: "Uid of Friend"
			size_hint_x: 0.95
            pos_hint: {'x': 0.575, 'y': 1.3}
			input_filter: 'int'

        MDFillRoundFlatButton:
            text: 'DONE'
            pos_hint: {'x': 0.95, 'y': 0.8}
	    	on_press: root.send_share_callback()

<Confirmation>:
    FloatLayout:
        Label:
            text: 'Are You Sure?'
            font_size: 28
            pos_hint: {'x': 0.55, 'y': 2.1}
        
        MDFillRoundFlatButton:
            text: 'CANCEL'
            pos_hint: {'x': 0.75, 'y': 1.9}
	    	on_press: root.delete_callback('no')

        MDFillRoundFlatButton:
            text: 'PROCEED'
            pos_hint: {'x': 1.1, 'y': 1.9}
	    	on_press: root.delete_callback('yes')
