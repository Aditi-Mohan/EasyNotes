#: import environ os.environ
#: import gch kivy.utils.get_color_from_hex


<RallyRegisterScreen>
    canvas:
        Color:
            rgba: gch("33333d")
            # rgba: gch("191414")
        Rectangle:
            pos: self.pos
            size: self.size

    MDBoxLayout:
        adaptive_height: True
        orientation: "vertical"
        spacing: dp(80)
        padding: dp(30)
        pos_hint: {"center_x": .5}

	    Image:
            source: f"{environ['RALLY_ROOT']}/assets/images/logo.png"
            pos_hint: {"center_x": .5}
            size_hint: None, None

	    MDBoxLayout:
	        adaptive_height: True
	        orientation: "vertical"
	        spacing: dp(20)

	        RallyTextField:
				id: nm
				focus: True
	            hint_text: "Username"

	        RallyTextField:
				id: pw
	            hint_text: "Password"
	            password: True
	            password_mask: "*"
			
			MDFillRoundFlatButton:
				text: "Log In"
				font_size: 18
				text_color: 1, 1, 1, 1
				on_release: root.login(root.ids.nm.text, root.ids.pw.text)

	    MDBoxLayout:
	        adaptive_height: True
	        orientation: "vertical"
	        spacing: dp(0)

	        MDTextButton:
	        	text: "Don't have an account? Sign Up"
				font_size: 20
	        	pos_hint: {"center_x": .5}
				on_release: root.parent.current = "rally signup screen"

<RallyTextField@MDTextField>
    mode: 'fill'
    line_anim: False
    fill_color: (0, 0, 0, .4)